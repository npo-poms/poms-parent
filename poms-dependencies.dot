
strict digraph {
  vpro_shared  [
                href="https://github.com/vpro/vpro-shared"
                fontcolor=blue
                ]
  poms_shared  [
                href="https://github.com/npo-poms/poms-shared"
                fontcolor=blue
   ]
  api_client [ href="https://github.com/npo-poms/api-clients" fontcolor=blue ]
  poms_backend [ label="POMS  & POMS Backend API" href="https://subversion.vpro.nl/viewvc/nl/vpro/media" fontcolor=blue color=darkgoldenrod3]
  poms_gui [ label="Angular GUI for POMS" href="https://subversion.vpro.nl/viewvc/nl/vpro/media-gui" fontcolor=blue ]
  poms_shared_backend [ href="https://subversion.vpro.nl/viewvc/nl/publiekeomroep/poms-shared-backend/" fontcolor=blue color=cyan3 ]
  api [ label="Frontend API" href="https://subversion.vpro.nl/viewvc/nl/vpro/api/" fontcolor=blue color=cornflowerblue]
  media_publish [ label="Media Publisher" href="https://subversion.vpro.nl/viewvc/nl/publiekeomroep/npo-publish/" fontcolor=blue color=darkorchid1]
  pages_publish [ label="Pages Publisher" href="https://subversion.vpro.nl/viewvc/nl/vpro/pages-publish/" fontcolor=blue color=darkseagreen ]
  user_backend [ href="https://subversion.vpro.nl/repo/nl/vpro/user" fontcolor=blue ]
  images [ label="Images Frontend & Backend" href="https://subversion.vpro.nl/viewvc/nl/vpro/images/" fontcolor=blue color=darkolivegreen1 ]



  label="
  Dependencies of the different code projects relevant to POMS";

  graph [
         splines=yes
         ]
  edge [
        color=gray
        ]


  subgraph cluster_0  {
    label="Generic utilities\n(incoming edges are just examples, there are more)"
    //label="Utilities which we don't maintain. These are only some example. Also, not every edge is included";
    labelloc=b
    slf4j[style=dashed]
    guava[style=dashed]
    spring[style=dashed]
    resteasy
    hibernate
    angular

  }

  subgraph cluster_1  {
    label="VPRO"
    magnolia
    vpro_rs
  }
  subgraph cluster_2  {
    label="POMS Services"
    description="These are actually deployed"
    bgcolor=azure
    poms_gui
    poms_backend
    pages_publish
    media_publish
    api
    images
  }

  subgraph cluster_4  {
    label="Sharable utilities"
    bgcolor=azure
    api_client
    vpro_shared
    poms_shared
    user_backend

  }


  vpro_shared -> {
    slf4j
    guava
  }
  poms_shared -> vpro_shared
  poms_shared_backend -> {
    vpro_shared
    poms_shared
    slf4j
  }[color=cyan3]

  api -> {
    poms_shared
    poms_shared_backend
    vpro_shared
    user_backend
    resteasy
  }[color=cornflowerblue]


  pages_publish -> {
    poms_shared_backend
    poms_shared
    user_backend
  }[color=darkseagreen]

  media_publish -> {
    poms_shared
    user_backend
    user_backend
    #poms_shared_backend
    }[color=darkorchid1]

    media_publish -> pages_publish[label="we plan to merge these" dir=none]



  api_client -> {
    poms_shared
    vpro_shared
    user_backend
  }


  images -> {
    poms_shared
    user_backend
    spring
    hibernate
  }[color=darkolivegreen1]

  magnolia -> {
    api_client
    vpro_shared
    poms_shared
  }[color=cornsilk4]


  vpro_rs -> {
    api_client
    vpro_shared
    poms_shared
    poms_shared_backend
  }[color=cornsilk4]

  poms_backend -> {
    poms_shared
    poms_gui
    resteasy
    spring
    hibernate
    vpro_shared
    user_backend
  }[color=darkgoldenrod3]
  poms_gui -> angular


}
