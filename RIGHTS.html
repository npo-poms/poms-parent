<?xml version="1.0" encoding="utf-8"?>
<html  xmlns="http://www.w3.org/1999/xhtml">
<head>
	<style  type="text/css">
    body {
     background: #fff;
     }
     table {
     width: 100%;
     background: #aaa;
     margin-bottom: 2ex;
     }
		table  thead td {
		background: #fff;
		}

    table  tr.coverage td {
		background: #bbb;
		}

    table  td {
		background: #8f8;
		}
    table th {
    background: #888;

    }
    table tbody th {
    background: #888;
    vertical-align: text-top;
    text-align: left;
    }
    table td {
    vertical-align: text-top;
    }
    #vind {
    width: 100px;
    }
	</style>
  <script
  src="//code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha256-UgvvN8vBkgO0luPSUl2s8TIlOSYRoGFAX4jlCIm9Adc="
  crossorigin="anonymous"></script>
  <script>
    $("[href]").click(function(e) {
    console.log(e);

    });
  </script>
</head>
<body>

  <table>
    <caption>POMS Rechten-matrix</caption>
    <col id="rol" />
    <col id="vind" />
    <col id="lees" />
    <col id="create" />
    <col  />
    <col />
    <col />

    <thead>
	    <tr>
        <th rowspan="2">rol</th>
        <th>VIND</th>
        <th>LEES</th>
        <th>CREËREN</th>
        <th>SCHRIJVEN VAN NIET-SPECIALE VELDEN</th>
        <th>EXTRA RECHTEN</th>
        <th>Opmerkingen</th>
      </tr>
	    <tr>
        <td>Er zijn niet werkelijk vind-rechten. Alleen defaults daarvoor.</td>
        <td />
        <td />
        <td />
        <td>voor sommige velden zijn 'extra rechten' nodig	voor sommige andere velden of acties kunnen er uitzonderlijke rechten zijn geregeld</td>
        <td />
      </tr>
    </thead>
    <tbody>
	    <tr>
		    <th rowspan="2">
          <em>media_user</em>
          <br />
          Dit is de meest gewone 'rol'. Elke menselijke gebruiker die in de POMS backend moet kunnen zal deze rol nodig hebben.
	      </th>
		    <td>Alles wat niet gedelete is</td>
		    <td><a href="#noembargo">NOEMBARGO</a></td>
		    <td>
          <a href="#usercreate">USERCREATE</a>

		    </td>
		 <td>
       <a href="#userwrite">USERWRITE</a>

		 </td>
     <td />
		 <td rowspan="2">
       Men mag ook objecten in een groep plaatsen, ook zonder schrijfrechten op het object wat in de groep geplaatst wordt. Dit is meer een technische opmerking, want in principe wordt onderdeelschap in het onderdeel opgeslagen, niet in de groep. Dat zie je ook zo terug in de XML- en JSON-presentatie.
		 </td>
	 </tr>
	 <tr class="coverage">
		 <td> </td>
		 <td>
			 J- (testHasReadPermissionForNonUser)
			 J+(testHasReadPermissionForOtherBroadcaster,
			 testHasReadPermissionForOwnBroadcaster)
		 </td>
     <td />
     <td />
     <td />
	 </tr>
	 <tr>
		 <th rowspan="2">media_support</th>
		 <td>Alles</td>
		 <td>
       <a href="#noembargo">NOEMBARGO</a>
     </td>
		 <td>Niets</td>
		 <td>Niets</td>
		 <td>
       <a href="#episode">EPISODE</a>,
       <a href="#gui_masspublish">GUI_MASSPUBLISH</a>
       <a href="#download">CSV download</a>
     </td>
		 <td>Raar dat deze rol in principe juist read-only maakt, maar dan toch extra dingen mag</td>
	 </tr>
   <tr class="coverage">
   </tr>
	 <tr>
		 <th rowspan="2">
       media_externaluser
       <br />
		 Dit zijn mensen die slechts ingehuurd zijn door een omroep om specifieke content te bewerken. Zij hebben niet de leesrechten op alle content, en kunnen ook niet alle content van hun omroep bewerken
		 </th>
		 <td>
			 <a href="#thirdparty">THIRDPARTY</a>
		 </td>
		 <td>
			 <a href="#thirdparty">THIRDPARTY</a>
		 </td>
		 <td>
       <a href="#thirdparty">USERCREATE</a>
		 </td>
     <td>
       <a href="#thirdparty">THIRDPARTY</a>
		 </td>
     <td/>
		 <td rowspan="2">
			 CHECK
		 </td>
	 </tr>
   <tr class="coverage">
     <td />
     <td> </td>
   </tr>
	 <tr>
     <th rowspan="2">media_superuser</th>
	   <td>Alle objecten</td>
     <td>Alle objecten</td>
     <td>Alle objecten</td>
     <td>
       <a href="#extratypes">EXTRA_TYPES</a>
     </td>
     <td>
       <a href="#broadcast">BROADCAST</a>
       <a href="#download">CSV download</a>

     </td>
     <td rowspan="2"/>
   </tr>
   <tr class="coverage">
     <td>
 	     J+ (testHasReadPermissionForSuperUser)
     </td>
   </tr>
   <tr>
     <th rowspan="2">media_superprocess</th>
     <td colspan="4" />
	 	 <td>TRANSLATE</td>
     <td rowspan="2"/>
   </tr>
   <tr class="coverage">
     <td colspan="5" />
   </tr>
   <tr>
     <th rowspan="2">media_superadmin</th>
     <td>Alle objecten</td>
     <td>Alle objecten</td>
	 	 <td>Alle objecten</td>
     <td />
     <td>
       <a href="#extratypes">EXTRA_TYPES</a>,
       <a href="#broadcast">BROADCAST</a>,
       <a href="#gui_masspublish">GUI_MASSPUBLISH</a>,
       Herpubliceren,
       objecten samenvoegen,
       bronnen aanpassen,
       <a href="#download">CSV download</a>
     </td>
     <td rowspan="2" />
   </tr>
   <tr class="coverage">
     <td colspan="5" />
   </tr>
   <tr>
     <th rowspan="2">
       media_archivist
     </th>
     <td colspan="4" />
     <td>
       <a href="#broadcast">BROADCAST</a>,
       <a href="#embargoofbroadcasts">EMBARGOOFBROADCASTS</a>,
     </td>
     <td rowspan="2"/>
   </tr>
   <tr class="coverage">
     <td colspan="5" />
   </tr>
   <tr>
     <th rowspan="2">media_upload</th>
     <td colspan="4" />
	 	 <td>De mogelijkheid om te uploaden bij het 'bronnen' tabje</td>
     <td rowspan="2"/>
   </tr>
   <tr class="coverage">
     <td colspan="5" />
   </tr>

   <tr>
     <th rowspan="2">media_mis</th>
     <td colspan="4" />
     <td>OWNER van ownable fields aanpassen, ratings aanpassen van uitzendingen</td>
     <td rowspan="2" />
   </tr>
   <tr class="coverage">
     <td colspan="5" />
   </tr>
   <tr>
     <th rowspan="2">media_schedule</th>
     <td colspan="4" />
     <td>
       <a href="#extratype">EXTRA_TYPES</a>,
       <a href="#schedule">SCHEDULE</a>,
       niet-authorative predictions bewerken
     </td>
     <td rowspan="2"/>
   </tr>
   <tr class="coverage">
     <td colspan="5" />
   </tr>

   <tr>
     <th rowspan="2">media_mergeall</th>
     <td colspan="4" />
	 	 <td>objecten samenvoegen</td>
     <td rowspan="2"/>
   </tr>
   <tr class="coverage">
     <td colspan="5" />
   </tr>
   <tr>
     <th rowspan="2">media_mergeepisode</th>
     <td colspan="4" />
	 	 <td>uitzendingen samenvoegen</td>
     <td rowspan="2"/>
   </tr>
   <tr class="coverage">
     <td colspan="5" />
   </tr>

   <tr>
     <th rowspan="2">media_mergeseries</th>
     <td colspan="4" />
	 	 <td>series samenvoegen</td>
     <td rowspan="2"/>
   </tr>
   <tr class="coverage">
     <td colspan="5" />
   </tr>
   <tr>
     <th rowspan="2">media_translator</th>
     <td colspan="4" />
     <td><a href="#translate">TRANSLATE</a></td>
     <td rowspan="2"/>
   </tr>
   <tr class="coverage">
     <td colspan="5" />
   </tr>

 </tbody>
 </table>


 <table>
  <caption>Omschrijving van (extra) rechten</caption>
	 <thead>
	   <tr>
		   <th>NAAM</th>
		   <th>OMSCHRIJVING</th>
	   </tr>
	 </thead>
	 <tbody>
	   <tr id="extratypes">
       <td>EXTRA_TYPES</td>
       <td>type van een object veranderen van of naar Uitzending, Series of Seizoen</td>
     </tr>
	   <tr id="schedule">
       <td>SCHEDULE</td>
       <td>Schedule-events bewerken</td>
     </tr>
	   <tr id="broadcast">
       <td>BROADCAST</td>
       <td>Aanmaken van Uitzending-objecten en promo's. Ook mag men de embargo data aanpassen (MSE-4553)</td>
     </tr>
	   <tr id="episode">
       <td>EPISODE</td>
       <td>uitzendingen als 'episode' koppelen aan een Series/seizoen (tenzij die group 'gelocked' is)</td>
     </tr>
	   <tr id="translate">
       <td>TRANSLATE</td>
       <td>
         ondertitels toevoegen op alle objecten

         vertalingen toevoegen op alle objecten (nog niet mogelijk in de GUI)
       </td>
     </tr>
     <tr id="gui_masspublish">
       <td>GUI_MASSPUBLISH</td>
       <td>
         In de poms-gui uitvoeren van acties die zeer veel publicatie triggeren (het koppelen van groepen)
       </td>
     </tr>
      <tr id="download">
       <td>DOWNLOAD</td>
       <td>
         In de poms-gui query resultaten als CSV downloaden.
       </td>
     </tr>
     

	 </tbody>
 </table>

 <table>
   <caption>Omschrijving van criteria</caption>
   <thead>
     <tr><th>NAAM</th><th>OMSCHRIJVING</th></tr>
   </thead>
   <tbody>
    <tr id="usercreate">
     <td>USERCREATE</td>
     <td>  In principe alle type objecten behalve:
			    <ul>
				    <li>Uitzendingen</li>
				    <li>Promo's</li>
				    <li>Deprecated types</li>
			    </ul>
			    De lijst is overigens inclusief gedefinieerd (niet via uitzonderingen), dus eigenlijk zijn het deze types:
          <pre><code>
MediaType.CLIP,
MediaType.TRAILER,
MediaType.SERIES,
MediaType.SEASON,
MediaType.UMBRELLA,
MediaType.COLLECTION,
MediaType.PLAYLIST,
MediaType.ALBUM,
MediaType.TRACK,
MediaType.VISUALRADIO
</code>			 </pre></td>
   </tr>
   <tr id="userwrite">
     <td>
       USERWRITE
     </td>
     <td>
        <ul>
         <li>Alles wat tenminste één omroep deelt met de omroepen geässocieerd met deze gebruiker</li>
			   <li>Alles wat tenminste één portal deelt met de portals geässocieerd met deze gebruiker</li>
       </ul>
     </td>
   </tr>
     <tr id="thirdparty">
       <td>THIRDPARTY</td>
       <td>Alles wat tenminste één 'third party' deelt met de third parties geässocieerd met deze gebruiker</td></tr>
     <tr id="noembargo"><td>NOEMBARGO</td><td>Alles, behalve clips onder embargo van andere omroepen</td></tr>
   </tbody>
 </table>

 <h2> Omschrijving van coverage</h2>

 <dl>
   <dt>S-</dt><dd>Via selenium getest dat als je vereiste rollen/rechten niet hebt, dat het dan ook niet mag</dd>

   <dt>S+</dt><dd>Via selenium getest dat als je vereiste rollen/rechten wel hebt, dat het dan ook mag</dd>

   <dt>J-</dt><dd>Via junit getest dat als je vereiste rollen/rechten niet hebt, dat het dan ook niet mag</dd>

   <dt>J+</dt><dd>Via junit getest dat als je vereiste rollen/rechten wel hebt, dat het dan ook mag</dd>
 </dl>
  <p>
    Merk op dat de rechten via de frontend (selenium dus) in weze secundair zijn. Als iets niet mag, maar het mag via de frontend wel, dan zal dat foutmeldingen geven, maar in elk geval zal er niet werkelijk iets gebeuren wat eigenlijk niet mag.
  </p>
  <p>
    Junit: nl.vpro.domain.media.MediaServiceImplAuthorizationTest, nl.vpro.spring.security.acl.MediaPermissionEvaluatorImplTest
  </p>

  <p>
    <em>De omschrijving van de coverage is nog niet compleet</em>
  </p>


	 </body>
</html>
