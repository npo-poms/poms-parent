/*
This file describes schematicly the connections between actual systems relevant to poms.

This does not intend to be exhaustive, but merely tries to sketch the big picture.


*/
digraph {

    label="Deployments relevant for POMS";
    subgraph cluster_0  {
        label="Generic backend services";
        postgresql; elasticsearch; sso; jms; ldap;
    }

    subgraph cluster_1  {
        label="VPRO";
        magnolia_frontend; magnolia_backend;
    }

    subgraph cluster_1  {
        label="World";
        users; backendsystems; editors;
    }
    subgraph cluster_3  {
        label="POMS Public Services";
        poms_gui; poms_backend; pages_publish; api;
    }


   editors -> {magnolia_backend poms_gui sso}
   users -> {magnolia_frontend api}
   backendsystems -> {poms_backend  pages_publish}


    poms_gui -> { postgresql jms sso ldap }

    poms_backend -> { jms ldap}

    api -> { elasticsearch }

    pages_publish -> { elasticsearch ldap}

    media_publish -> { elasticsearch jms }


    magnolia_backend -> { poms_backend pages_publish };

    magnolia_frontend -> { api  };

   sso -> ldap;

}
